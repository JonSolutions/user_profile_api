{# templates/students/registration.html #}
{% extends 'core_temps/../../../DjangoProject2/templates/base.html' %}
{% load static %}

{% block title %}Student Registration{% endblock %}

{% block extra_css %}
<style>
    .registration-card {
        max-width: 500px;
        margin: 0 auto;
    }
    
    .form-heading {
        position: relative;
        padding-bottom: 15px;
        margin-bottom: 30px;
    }
    
    .form-heading::after {
        content: '';
        position: absolute;
        left: 50%;
        bottom: 0;
        transform: translateX(-50%);
        height: 3px;
        width: 60px;
        background-color: var(--primary-color);
    }
    
    .form-control {
        border-radius: var(--border-radius);
        padding: 0.6rem 1rem;
        border: 1px solid #e0e0e0;
        transition: all 0.3s;
        background-color: #f9f9f9;
    }
    
    .form-control:focus {
        box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        border-color: var(--primary-color);
        background-color: #fff;
    }
    
    .form-label {
        font-weight: 500;
        color: #555;
        margin-bottom: 0.4rem;
        font-size: 0.95rem;
    }
    
    .form-text {
        font-size: 0.85rem;
    }
    
    .error-feedback {
        font-size: 0.85rem;
        color: #e74c3c;
        margin-top: 0.25rem;
    }
    
    .submit-section {
        margin-top: 2rem;
    }
    
    .form-icon {
        position: relative;
    }
    
    .form-icon i {
        position: absolute;
        left: 1rem;
        top: 50%;
        transform: translateY(-50%);
        color: #6c757d;
    }
    
    .form-icon input {
        padding-left: 2.5rem;
    }
    
    .card-body {
        padding: 2.5rem;
    }
    
    /* Field animations */
    .form-control {
        transform: translateY(0);
        transition: transform 0.3s, box-shadow 0.3s, border-color 0.3s;
    }
    
    .form-control:focus {
        transform: translateY(-2px);
    }
    
    .input-group {
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        border-radius: var(--border-radius);
    }
    
    .input-group:focus-within {
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    /* Success/error styling */
    .is-valid {
        border-color: #2ecc71 !important;
        background-color: #f0fff4 !important;
    }
    
    .is-invalid {
        border-color: #e74c3c !important;
        background-color: #fff5f5 !important;
    }
</style>
{% endblock %}

{% block content %}
<div class="container">
    <div class="page-header">
        <h1>Student Registration</h1>
        <p>Please fill in your details to register</p>
    </div>
    
    <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">
            <div class="card registration-card">
                <div class="card-body">
                    <h3 class="text-center form-heading">Personal Information</h3>
                    
                    <form method="POST" novalidate>
                        {% csrf_token %}
                        
                        <div class="row g-3">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="{{ form.first_name.id_for_label }}" class="form-label">
                                        <i class="fas fa-user-circle me-1 text-primary"></i> First name
                                    </label>
                                    {{ form.first_name }}
                                    {% if form.first_name.errors %}
                                    <div class="error-feedback">
                                        <i class="fas fa-exclamation-circle me-1"></i>
                                        {{ form.first_name.errors.0 }}
                                    </div>
                                    {% endif %}
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="{{ form.last_name.id_for_label }}" class="form-label">
                                        <i class="fas fa-user-circle me-1 text-primary"></i> Last name
                                    </label>
                                    {{ form.last_name }}
                                    {% if form.last_name.errors %}
                                    <div class="error-feedback">
                                        <i class="fas fa-exclamation-circle me-1"></i>
                                        {{ form.last_name.errors.0 }}
                                    </div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="{{ form.email.id_for_label }}" class="form-label">
                                <i class="fas fa-envelope me-1 text-primary"></i> Email
                            </label>
                            {{ form.email }}
                            {% if form.email.errors %}
                            <div class="error-feedback">
                                <i class="fas fa-exclamation-circle me-1"></i>
                                {{ form.email.errors.0 }}
                            </div>
                            {% endif %}
                        </div>
                        
                        <div class="row g-3">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="{{ form.reg_no.id_for_label }}" class="form-label">
                                        <i class="fas fa-id-card me-1 text-primary"></i> Reg no
                                    </label>
                                    {{ form.reg_no }}
                                    {% if form.reg_no.errors %}
                                    <div class="error-feedback">
                                        <i class="fas fa-exclamation-circle me-1"></i>
                                        {{ form.reg_no.errors.0 }}
                                    </div>
                                    {% endif %}
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="{{ form.id_number.id_for_label }}" class="form-label">
                                        <i class="fas fa-fingerprint me-1 text-primary"></i> Id number
                                    </label>
                                    {{ form.id_number }}
                                    {% if form.id_number.errors %}
                                    <div class="error-feedback">
                                        <i class="fas fa-exclamation-circle me-1"></i>
                                        {{ form.id_number.errors.0 }}
                                    </div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="{{ form.course.id_for_label }}" class="form-label">
                                <i class="fas fa-book me-1 text-primary"></i> Course
                            </label>
                            {{ form.course }}
                            {% if form.course.errors %}
                            <div class="error-feedback">
                                <i class="fas fa-exclamation-circle me-1"></i>
                                {{ form.course.errors.0 }}
                            </div>
                            {% endif %}
                        </div>
                        
                        <div class="row g-3">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="{{ form.age.id_for_label }}" class="form-label">
                                        <i class="fas fa-birthday-cake me-1 text-primary"></i> Age
                                    </label>
                                    {{ form.age }}
                                    {% if form.age.errors %}
                                    <div class="error-feedback">
                                        <i class="fas fa-exclamation-circle me-1"></i>
                                        {{ form.age.errors.0 }}
                                    </div>
                                    {% endif %}
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="{{ form.gender.id_for_label }}" class="form-label">
                                        <i class="fas fa-venus-mars me-1 text-primary"></i> Gender
                                    </label>
                                    {{ form.gender }}
                                    {% if form.gender.errors %}
                                    <div class="error-feedback">
                                        <i class="fas fa-exclamation-circle me-1"></i>
                                        {{ form.gender.errors.0 }}
                                    </div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                        
                        <div class="submit-section text-center mt-4">
                            <button type="submit" class="btn btn-primary btn-lg px-5">
                                <i class="fas fa-user-plus me-2"></i>Submit
                            </button>
                        </div>
                    </form>
                </div>
            </div>
            
            <div class="text-center mt-3">
                <p class="text-muted">Already registered? <a href="#" class="text-primary">Login here</a></p>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Add some basic form validation feedback
    document.addEventListener('DOMContentLoaded', function() {
        const form = document.querySelector('form');
        const inputs = form.querySelectorAll('input, select');
        
        inputs.forEach(input => {
            input.addEventListener('blur', function() {
                if (this.value.trim() !== '') {
                    this.classList.add('is-valid');
                    this.classList.remove('is-invalid');
                } else if (this.hasAttribute('required')) {
                    this.classList.add('is-invalid');
                    this.classList.remove('is-valid');
                }
            });
        });
    });
</script>
{% endblock %}